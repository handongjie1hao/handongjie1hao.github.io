<!DOCTYPE html>
<html >
<body style='font-size: 1em;'>
<input id='in' style='width:100%;height:200px;'>
<br>
<div class='buttonDiv' style='margin: 10px;'>
	<button onclick = 'go()' style='background-color: black;color: aliceblue;height:28px;'> 大写单词分割</button>

	<button onclick = 'count()' style='background-color:blueviolet;color: aliceblue;height:28px;'> 小写单词计数</button>

	<button onclick = 'revise()' style='background-color:brown;color: aliceblue;height:28px;'> 小写修正标点位</button>
</div>
<br>
<input id='out' style='width:100%;height:200px;'>
</body>
<script type="text/javascript">
	function go(){
		var invalue=document.getElementById('in').value;
		// var inreplace=invalue.replace(/\ /g,'^').replace(/\,/g,'#').split('').toString().replace(/\,/g,' ').replace(/\^/g,' ').replace(/\#/g,',');
		var inreplace=invalue.replace(/\ /g,'^').replace(/\,/g,'#').split('');
		var outStr='';
		for(var j=0;j<inreplace.length;j++){
			if(j==(inreplace.length-1)){
				outStr+=inreplace[j];
			}else{
				outStr+=inreplace[j]+'`'
			}
		}
		document.getElementById('out').value=outStr.replace(/\,/g,' ').replace(/\^`/g,' ').replace(/\#`/g,', ').replace(/\`/g,' ').replace(/\^/g,' ');
	}
	function count(){
		var invalue=document.getElementById('in').value;
		var arr=invalue.replace(/\W/g,'^').replace(/\^{1,10}/g,'^').split('^');
		var length=arr.length;
		for(var j=0;j<arr.length;j++){
			if(arr[j]==''){
				length--;
			}
		}
		document.getElementById('out').value="总计单词"+length+"个:"+invalue.replace(/\W/g,'^').replace(/\^{1,10}/g,'^');
	}
	function revise(){
		var invalue=document.getElementById('in').value;
		var inreplace=invalue.replace(/\ {1,10}/g,' ').replace(/\W /g,function(word){return word.replace(/\ /g,'')}).replace(/\ \W/g,function(word){return word.replace(/\ /g,'')}).replace(/\W/g,function(word){return ' '+word.replace(/\ /g,'')+' '});
		
		document.getElementById('out').value=inreplace;
	}

</script>

</html>